<?xml version="1.0" encoding="UTF-8"?><RuleSet internalID="id1355938370399" name="PDCPhoneNumberValidationRuleSet">
  <Annotations internalID="id1355938370397">
    <EditorMetadata internalID="id1355938370780">
      <folders internalID="PDCPhoneNumberValidationRuleSet1355938391371">
        <diagram id="ValidationResult.isTypeBeingModified" internalID="PDCPhoneNumberValidationRuleSet1355938460828">
          <Annotations internalID="PDCPhoneNumberValidationRuleSet1355938460811">
            <Label internalID="PDCPhoneNumberValidationRuleSet1355938460810" label-id="PDCPhoneNumberValidationRuleSetlabelID_1355938460809" name="isTypeBeingModified"/>
          </Annotations>
          <Attributes internalID="PDCPhoneNumberValidationRuleSet1355938460994">
            <Attribute id="ValidationResult.isTypeBeingModified" internalID="PDCPhoneNumberValidationRuleSet1355938462015"/>
          </Attributes>
        </diagram>
      </folders>
      <config>
        <rulesets>
          <rulesetmetadata isPublished="false" name="PDCPhoneNumberRuleSet"/>
        </rulesets>
        <faconfig/>
      </config>
    </EditorMetadata>
  </Annotations>
  <Class extends="DefaultEvidenceValidationResult" extendsRuleSet="EvidenceValidationRuleSet" internalID="id1355938370400" name="ValidationResult">
    <Attribute internalID="id1355938370401" name="evidence">
      <type internalID="id1355938370402">
        <ruleclass internalID="id1355938370403" name="PDCPhoneNumber" ruleset="PDCPhoneNumberRuleSet"/>
      </type>
      <derivation internalID="id1355938370404">
        <specified internalID="id1355938370405"/>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370406" name="standardValidations">
      <type internalID="id1355938370407">
        <javaclass internalID="id1355938370408" name="List">
          <ruleclass internalID="id1355938370409" name="Validation" ruleset="EvidenceValidationRuleSet"/>
        </javaclass>
      </type>
      <derivation internalID="id1355938370410">
        <reference attribute="phoneNumberStandardValidations" internalID="id1355938370411"/>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370412" name="detailsValidations">
      <type internalID="id1355938370413">
        <javaclass internalID="id1355938370414" name="java.util.List">
          <ruleclass internalID="id1355938370415" name="Validation" ruleset="EvidenceValidationRuleSet"/>
        </javaclass>
      </type>
      <derivation internalID="id1355938370416">
        <null internalID="id1355938370417"/>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370418" name="preCreateValidations">
      <type internalID="id1355938370419">
        <javaclass internalID="id1355938370420" name="java.util.List">
          <ruleclass internalID="id1355938370421" name="Validation" ruleset="EvidenceValidationRuleSet"/>
        </javaclass>
      </type>
      <derivation internalID="id1355938370422">
        <null internalID="id1355938370423"/>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370424" name="preModifyValidations">
      <type internalID="id1355938370425">
        <javaclass internalID="id1355938370426" name="java.util.List">
          <ruleclass internalID="id1355938370427" name="Validation" ruleset="EvidenceValidationRuleSet"/>
        </javaclass>
      </type>
      <derivation internalID="id1355938370428">
        <fixedlist internalID="id1355938370429">
          <listof internalID="id1355938370430">
            <ruleclass internalID="id1355938370431" name="Validation" ruleset="EvidenceValidationRuleSet"/>
          </listof>
          <members internalID="id1355938370432">
            <reference attribute="typeBeingModifiedValidation" internalID="id1355938370433"/>
          </members>
        </fixedlist>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370434" name="postCreateValidations">
      <type internalID="id1355938370435">
        <javaclass internalID="id1355938370436" name="List">
          <ruleclass internalID="id1355938370437" name="Validation" ruleset="EvidenceValidationRuleSet"/>
        </javaclass>
      </type>
      <derivation internalID="id1355938370438">
        <fixedlist internalID="id1355938370439">
          <listof internalID="id1355938370440">
            <ruleclass internalID="id1355938370441" name="Validation" ruleset="EvidenceValidationRuleSet"/>
          </listof>
          <members internalID="id1355938370442">
            <reference attribute="createDuplicateClientValidation" internalID="id1355938370443"/>
          </members>
        </fixedlist>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370444" name="postModifyValidations">
      <type internalID="id1355938370445">
        <javaclass internalID="id1355938370446" name="List">
          <ruleclass internalID="id1355938370447" name="Validation" ruleset="EvidenceValidationRuleSet"/>
        </javaclass>
      </type>
      <derivation internalID="id1355938370448">
        <fixedlist internalID="id1355938370449">
          <listof internalID="id1355938370450">
            <ruleclass internalID="id1355938370451" name="Validation" ruleset="EvidenceValidationRuleSet"/>
          </listof>
          <members internalID="id1355938370452">
            <reference attribute="modifyDuplicateClientValidation" internalID="id1355938370453"/>
            <reference attribute="effectiveDateAfterDOBValidation" internalID="id1355938370454"/>
          </members>
        </fixedlist>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370455" name="modifyDuplicateClientValidation">
      <type internalID="id1355938370456">
        <ruleclass internalID="id1355938370457" name="Validation" ruleset="EvidenceValidationRuleSet"/>
      </type>
      <derivation internalID="id1355938370458">
        <create internalID="id1355938370459" ruleclass="Validation" ruleset="EvidenceValidationRuleSet">
          <reference attribute="isConcernRoleDuplicate" internalID="id1355938370460">
            <reference attribute="duplicateCheck" internalID="id1355938370461"/>
          </reference>
          <ResourceMessage internalID="id1355938370462" key="ERR_CONCERNROLEPHONENUMBER_XRV_DUPLICATE_CLIENT_PARTICIPANT_MODIFY" resourceBundle="curam.pdc.rules.PDCPhoneNumberValidationRuleSet">
            <reference attribute="concernRoleName" internalID="id1355938370723">
              <reference attribute="concernRoleRecord" internalID="id1355938370724"/>
            </reference>
          </ResourceMessage>


        </create>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370463" name="createDuplicateClientValidation">
      <type internalID="id1355938370464">
        <ruleclass internalID="id1355938370465" name="Validation" ruleset="EvidenceValidationRuleSet"/>
      </type>
      <derivation internalID="id1355938370466">
        <create internalID="id1355938370467" ruleclass="Validation" ruleset="EvidenceValidationRuleSet">
          <reference attribute="isConcernRoleDuplicate" internalID="id1355938370468">
            <reference attribute="duplicateCheck" internalID="id1355938370469"/>
          </reference>
          <ResourceMessage internalID="id1355938370470" key="ERR_CONCERNROLEPHONENUMBER_XRV_DUPLICATE_CLIENT_PARTICIPANT_CREATE" resourceBundle="curam.pdc.rules.PDCPhoneNumberValidationRuleSet">
            <reference attribute="concernRoleName" internalID="id1355938370723">
              <reference attribute="concernRoleRecord" internalID="id1355938370724"/>
            </reference>
          </ResourceMessage>
        </create>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370471" name="duplicateCheck">
      <type internalID="id1355938370472">
        <ruleclass internalID="id1355938370473" name="DuplicateClientCheck" ruleset="PDCDuplicateClientValidationRuleSet"/>
      </type>
      <derivation internalID="id1355938370474">
        <create internalID="id1355938370475" ruleclass="DuplicateClientCheck" ruleset="PDCDuplicateClientValidationRuleSet">
          <specify attribute="concernRoleID" internalID="id1355938370476">
            <reference attribute="participantRoleID" internalID="id1355938370477">
              <reference attribute="related_participant" internalID="id1355938370478">
                <reference attribute="evidence" internalID="id1355938370479"/>
              </reference>
            </reference>
          </specify>
        </create>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370480" name="phoneNumberStandardValidations">
      <type internalID="id1355938370481">
        <javaclass internalID="id1355938370482" name="List">
          <ruleclass internalID="id1355938370483" name="Validation" ruleset="EvidenceValidationRuleSet"/>
        </javaclass>
      </type>
      <derivation internalID="id1355938370484">
        <fixedlist internalID="id1355938370485">
          <listof internalID="id1355938370486">
            <ruleclass internalID="id1355938370487" name="Validation" ruleset="EvidenceValidationRuleSet"/>
          </listof>
          <members internalID="id1355938370488">
            <reference attribute="fromDateAfterDOBValidation" internalID="id1355938370489"/>
            <reference attribute="toDateBeforeDODValidation" internalID="id1355938370491"/>
            <reference attribute="preferredPhoneNumberValidation"/>
          </members>
        </fixedlist>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370492" name="fromDateAfterDOBValidation">
      <type internalID="id1355938370493">
        <ruleclass internalID="id1355938370494" name="Validation" ruleset="EvidenceValidationRuleSet"/>
      </type>
      <derivation internalID="id1355938370495">
        <create internalID="id1355938370496" ruleclass="Validation" ruleset="EvidenceValidationRuleSet">
          <choose internalID="id1355938370497">
            <type internalID="id1355938370498">
              <javaclass internalID="id1355938370499" name="Boolean"/>
            </type>
            <when internalID="id1355938370500">
              <condition internalID="id1355938370501">
                <not internalID="id1355938370502">
                  <equals internalID="id1355938370503">
                    <reference attribute="dateOfBirth" internalID="id1355938370504"/>
                    <null internalID="id1355938370505"/>
                  </equals>
                </not>
              </condition>
              <value internalID="id1355938370506">
                <compare comparison="&gt;" internalID="id1355938370507">
                  <reference attribute="dateOfBirth" internalID="id1355938370508"/>
                  <reference attribute="fromDate" internalID="id1355938370509">
                    <reference attribute="evidence" internalID="id1355938370510"/>
                  </reference>
                </compare>
              </value>
            </when>
            <otherwise internalID="id1355938370511">
              <value internalID="id1355938370512">
                <false internalID="id1355938370513"/>
              </value>
            </otherwise>
          </choose>
          <ResourceMessage internalID="id1355938370514" key="ERR_CONCERNROLE_PHONENUMBER_XRV_START_DATE" resourceBundle="curam.pdc.rules.PDCPhoneNumberValidationRuleSet">
            <reference attribute="concernRoleName" internalID="id1355938370515">
              <reference attribute="concernRoleRecord" internalID="id1355938370516"/>
            </reference>
            <reference attribute="dateOfBirth" internalID="id1355938370517"/>
          </ResourceMessage>
        </create>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370518" name="fromDateBeforeDODValidation">
      <type internalID="id1355938370519">
        <ruleclass internalID="id1355938370520" name="Validation" ruleset="EvidenceValidationRuleSet"/>
      </type>
      <derivation internalID="id1355938370521">
        <create internalID="id1355938370522" ruleclass="Validation" ruleset="EvidenceValidationRuleSet">
          <choose internalID="id1355938370523">
            <type internalID="id1355938370524">
              <javaclass internalID="id1355938370525" name="Boolean"/>
            </type>
            <when internalID="id1355938370526">
              <condition internalID="id1355938370527">
                <not internalID="id1355938370528">
                  <equals internalID="id1355938370529">
                    <reference attribute="dateOfDeath" internalID="id1355938370530"/>
                    <null internalID="id1355938370531"/>
                  </equals>
                </not>
              </condition>
              <value internalID="id1355938370532">
                <compare comparison="&gt;" internalID="id1355938370533">
                  <reference attribute="fromDate" internalID="id1355938370534">
                    <reference attribute="evidence" internalID="id1355938370535"/>
                  </reference>
                  <reference attribute="dateOfDeath" internalID="id1355938370536"/>
                </compare>
              </value>
            </when>
            <otherwise internalID="id1355938370537">
              <value internalID="id1355938370538">
                <false internalID="id1355938370539"/>
              </value>
            </otherwise>
          </choose>
          <ResourceMessage internalID="id1355938370540" key="ERR_CONCERNROLE_XRV_START_DATE_END_DATE" resourceBundle="curam.pdc.rules.PDCPhoneNumberValidationRuleSet">
            <reference attribute="concernRoleName" internalID="id1355938370541">
              <reference attribute="concernRoleRecord" internalID="id1355938370542"/>
            </reference>
            <reference attribute="dateOfDeath" internalID="id1355938370543"/>
          </ResourceMessage>
        </create>
      </derivation>
    </Attribute>
    <Attribute name="toDateBeforeDODValidation">
      <type>
        <ruleclass name="Validation" ruleset="EvidenceValidationRuleSet"/>
      </type>
      <derivation>
        <create ruleclass="Validation" ruleset="EvidenceValidationRuleSet">
          <choose>
            <type>
              <javaclass name="Boolean"/>
            </type>
            <when>
              <condition>
                <not>
                  <equals>
                    <reference attribute="dateOfDeath"/>
                    <null/>
                  </equals>
                </not>
              </condition>
              <value>
                <reference attribute="toDateAfterDateOfDeath"/>
              </value>
            </when>
            <otherwise>
              <value>
                <false/>
              </value>
            </otherwise>
          </choose>
          <ResourceMessage key="ERR_CONCERNROLE_XRV_END_DATE" resourceBundle="curam.pdc.rules.PDCPhoneNumberValidationRuleSet">
            <reference attribute="concernRoleName">
              <reference attribute="concernRoleRecord"/>
            </reference>
            <reference attribute="dateOfDeath"/>
          </ResourceMessage>
        </create>
      </derivation>
    </Attribute>
    <Attribute name="toDateAfterDateOfDeath">
      <type>
        <javaclass name="Boolean"/>
      </type>
      <derivation>
        <choose>
          <type>
            <javaclass name="Boolean"/>
          </type>
          <when>
            <condition>
              <reference attribute="isTodateNull"/>
            </condition>
            <value>
              <compare comparison="&gt;">
                <reference attribute="toDate">
                  <reference attribute="evidence"/>
                </reference>
                <reference attribute="dateOfDeath"/>
              </compare>
            </value>
          </when>
          <otherwise>
            <value>
              <false/>
            </value>
          </otherwise>
        </choose>


      </derivation>


    </Attribute>


    <Attribute name="isTodateNull">
      <type>
        <javaclass name="Boolean"/>
      </type>
      <derivation>
        <choose>
          <type>
            <javaclass name="Boolean"/>
          </type>
          <when>
            <condition>
              <not>
                <equals>
                  <reference attribute="toDate">
                    <reference attribute="evidence"/>
                  </reference>
                  <null/>
                </equals>
              </not>
            </condition>
            <value>
              <true/>
            </value>
          </when>
          <otherwise>
            <value>
              <false/>
            </value>
          </otherwise>
        </choose>


      </derivation>


    </Attribute>


    <Attribute internalID="id1355938370570" name="concernRoleRecord">
      <type internalID="id1355938370571">
        <ruleclass internalID="id1355938370572" name="ConcernRole" ruleset="ParticipantEntitiesRuleSet"/>
      </type>
      <derivation internalID="id1355938370573">
        <singleitem internalID="id1355938370574" onEmpty="error" onMultiple="error">
          <readall internalID="id1355938370575" ruleclass="ConcernRole" ruleset="ParticipantEntitiesRuleSet">
            <match internalID="id1355938370576" retrievedattribute="concernRoleID">
              <reference attribute="participantRoleID" internalID="id1355938370577">
                <reference attribute="related_participant" internalID="id1355938370578">
                  <reference attribute="evidence" internalID="id1355938370579"/>
                </reference>
              </reference>
            </match>
          </readall>
        </singleitem>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370580" name="personRecord">
      <type internalID="id1355938370581">
        <ruleclass internalID="id1355938370582" name="Person" ruleset="ParticipantEntitiesRuleSet"/>
      </type>
      <derivation internalID="id1355938370583">
        <singleitem internalID="id1355938370584" onEmpty="error" onMultiple="error">
          <readall internalID="id1355938370585" ruleclass="Person" ruleset="ParticipantEntitiesRuleSet">
            <match internalID="id1355938370586" retrievedattribute="concernRoleID">
              <reference attribute="participantRoleID" internalID="id1355938370587">
                <reference attribute="related_participant" internalID="id1355938370588">
                  <reference attribute="evidence" internalID="id1355938370589"/>
                </reference>
              </reference>
            </match>
          </readall>
        </singleitem>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370622" name="prospectPersonRecord">
      <type internalID="id1355938370623">
        <ruleclass internalID="id1355938370624" name="ProspectPerson" ruleset="ParticipantEntitiesRuleSet"/>
      </type>
      <derivation internalID="id1355938370625">
        <singleitem internalID="id1355938370626" onEmpty="error" onMultiple="error">
          <readall internalID="id1355938370627" ruleclass="ProspectPerson" ruleset="ParticipantEntitiesRuleSet">
            <match internalID="id1355938370628" retrievedattribute="concernRoleID">
              <reference attribute="participantRoleID" internalID="id1355938370629">
                <reference attribute="related_participant" internalID="id1355938370630">
                  <reference attribute="evidence" internalID="id1355938370631"/>
                </reference>
              </reference>
            </match>
          </readall>
        </singleitem>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370632" name="isPerson">
      <type internalID="id1355938370633">
        <javaclass internalID="id1355938370634" name="Boolean"/>
      </type>
      <derivation internalID="id1355938370635">
        <equals internalID="id1355938370636">
          <reference attribute="concernRoleType" internalID="id1355938370637">
            <reference attribute="concernRoleRecord" internalID="id1355938370638"/>
          </reference>
          <Code internalID="id1355938370639" table="ConcernRoleType">
            <String internalID="id1355938370640" value="RL1"/>
          </Code>
        </equals>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370641" name="caseID">
      <type internalID="id1355938370642">
        <javaclass internalID="id1355938370643" name="Number"/>
      </type>
      <derivation internalID="id1355938370644">
        <reference attribute="caseID" internalID="id1355938370645">
          <reference attribute="evidence" internalID="id1355938370646"/>
        </reference>
      </derivation>
    </Attribute>
    <Attribute name="birthAndDeathEvidence">
      <type>
        <javaclass name="List">
          <ruleclass name="BirthAndDeathEvidence" ruleset="ParticipantEvidenceRuleSet"/>
        </javaclass>
      </type>
      <derivation>
        <readall ruleclass="BirthAndDeathEvidence" ruleset="ParticipantEvidenceRuleSet">
          <match retrievedattribute="caseID">
            <reference attribute="caseID"/>
          </match>
        </readall>
      </derivation>
    </Attribute>
    <Attribute name="birthAndDeathEvidenceForClient">
      <type>
        <ruleclass name="BirthAndDeathEvidence" ruleset="ParticipantEvidenceRuleSet"/>
      </type>
      <derivation>
        <singleitem onEmpty="returnNull" onMultiple="returnFirst">
          <filter>
            <list>
              <reference attribute="birthAndDeathEvidence"/>
            </list>
            <listitemexpression>
              <all>
                <fixedlist>
                  <listof>
                    <javaclass name="Boolean"/>
                  </listof>
                  <members>
                    <not>
                      <equals>
                        <reference attribute="evidenceSuccessionID"/>
                        <reference attribute="successionID">
                          <current/>
                        </reference>
                      </equals>
                    </not>
                    <equals>
                      <reference attribute="participantRoleID">
                        <reference attribute="related_participant">
                          <reference attribute="evidence"/>
                        </reference>
                      </reference>
                      <reference attribute="participantRoleID">
                        <reference attribute="related_person">
                          <current/>
                        </reference>
                      </reference>
                    </equals>
                  </members>
                </fixedlist>
              </all>
            </listitemexpression>
          </filter>
        </singleitem>
      </derivation>
    </Attribute>
    <Attribute name="evidenceSuccessionID">
      <type>
        <javaclass name="Number"/>
      </type>
      <derivation>
        <reference attribute="successionID">
          <reference attribute="evidence"/>
        </reference>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370655" name="dateOfBirth">
      <type internalID="id1355938370656">
        <javaclass internalID="id1355938370657" name="curam.util.type.Date"/>
      </type>
      <derivation internalID="id1355938370658">
        <choose internalID="id1355938370659">
          <type internalID="id1355938370660">
            <javaclass internalID="id1355938370661" name="curam.util.type.Date"/>
          </type>
          <when internalID="id1355938370662">
            <condition internalID="id1355938370663">
              <not internalID="id1355938370664">
                <equals internalID="id1355938370665">
                  <reference attribute="birthAndDeathEvidenceForClient" internalID="id1355938370666"/>
                  <null internalID="id1355938370667"/>
                </equals>
              </not>
            </condition>
            <value internalID="id1355938370668">
              <reference attribute="dateOfBirth" internalID="id1355938370669">
                <reference attribute="birthAndDeathEvidenceForClient" internalID="id1355938370670"/>
              </reference>
            </value>
          </when>
          <otherwise internalID="id1355938370671">
            <value internalID="id1355938370672">
              <null internalID="id1355938370673"/>
            </value>
          </otherwise>
        </choose>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370674" name="dateOfDeath">
      <type internalID="id1355938370675">
        <javaclass internalID="id1355938370676" name="curam.util.type.Date"/>
      </type>
      <derivation internalID="id1355938370677">
        <choose internalID="id1355938370678">
          <type internalID="id1355938370679">
            <javaclass internalID="id1355938370680" name="curam.util.type.Date"/>
          </type>
          <when internalID="id1355938370681">
            <condition internalID="id1355938370682">
              <not internalID="id1355938370683">
                <equals internalID="id1355938370684">
                  <reference attribute="birthAndDeathEvidenceForClient" internalID="id1355938370685"/>
                  <null internalID="id1355938370686"/>
                </equals>
              </not>
            </condition>
            <value internalID="id1355938370687">
              <reference attribute="dateOfDeath" internalID="id1355938370688">
                <reference attribute="birthAndDeathEvidenceForClient" internalID="id1355938370689"/>
              </reference>
            </value>
          </when>
          <otherwise internalID="id1355938370690">
            <value internalID="id1355938370691">
              <null internalID="id1355938370692"/>
            </value>
          </otherwise>
        </choose>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370693" name="effectiveDateAfterDOBValidation">
      <type internalID="id1355938370694">
        <ruleclass internalID="id1355938370695" name="Validation" ruleset="EvidenceValidationRuleSet"/>
      </type>
      <derivation internalID="id1355938370696">
        <create internalID="id1355938370697" ruleclass="Validation" ruleset="EvidenceValidationRuleSet">
          <choose internalID="id1355938370698">
            <type internalID="id1355938370699">
              <javaclass internalID="id1355938370700" name="Boolean"/>
            </type>
            <when internalID="id1355938370701">
              <condition internalID="id1355938370702">
                <all internalID="id1355938370703">
                  <fixedlist internalID="id1355938370704">
                    <listof internalID="id1355938370705">
                      <javaclass internalID="id1355938370706" name="Boolean"/>
                    </listof>
                    <members internalID="id1355938370707">
                      <not internalID="id1355938370708">
                        <equals internalID="id1355938370709">
                          <reference attribute="dateOfBirth" internalID="id1355938370710"/>
                          <null internalID="PDCAddressValidationRuleSet1355754662593"/>
                        </equals>
                      </not>
                      <not internalID="id1355938370711">
                        <equals internalID="id1355938370712">
                          <reference attribute="effectiveDate" internalID="id1355938370713"/>
                          <null/>
                        </equals>
                      </not>
                    </members>
                  </fixedlist>
                </all>
              </condition>
              <value internalID="id1355938370715">
                <compare comparison="&gt;" internalID="id1355938370716">
                  <reference attribute="dateOfBirth" internalID="id1355938370717"/>
                  <reference attribute="effectiveDate" internalID="id1355938370718"/>
                </compare>
              </value>
            </when>
            <otherwise internalID="id1355938370719">
              <value internalID="id1355938370720">
                <false internalID="id1355938370721"/>
              </value>
            </otherwise>
          </choose>
          <ResourceMessage internalID="id1355938370722" key="ERR_PHONENUMBER_XRV_EFFECTIVE_DATE_DOB_FOR_PARTICIPANT" resourceBundle="curam.pdc.rules.PDCPhoneNumberValidationRuleSet">
            <reference attribute="concernRoleName" internalID="id1355938370723">
              <reference attribute="concernRoleRecord" internalID="id1355938370724"/>
            </reference>
            <reference attribute="dateOfBirth" internalID="id1355938370725"/>
          </ResourceMessage>
        </create>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370726" name="effectiveDate">
      <type internalID="id1355938370727">
        <javaclass internalID="id1355938370728" name="curam.util.type.Date"/>
      </type>
      <derivation internalID="id1355938370729">
        <reference attribute="effectiveFrom" internalID="id1355938370730">
          <reference attribute="evidence" internalID="id1355938370731"/>
        </reference>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370732" name="isTypeBeingModified">
      <type internalID="id1355938370733">
        <javaclass internalID="id1355938370734" name="Boolean"/>
      </type>
      <derivation internalID="id1355938370735">
        <choose internalID="id1355938370736">
          <type internalID="id1355938370737">
            <javaclass internalID="id1355938370738" name="Boolean"/>
          </type>
          <when internalID="id1355938370739">
            <condition internalID="id1355938370740">
              <equals internalID="PDCPhoneNumberValidationRuleSet1355938902159">
                <Annotations internalID="PDCPhoneNumberValidationRuleSet1355938902160">
                  <Label internalID="PDCPhoneNumberValidationRuleSet1355938902161" label-id="PDCPhoneNumberValidationRuleSetlabelID_1355938634804" name="Compare"/>
                </Annotations>
                <reference attribute="status" internalID="PDCPhoneNumberValidationRuleSet1355938902162">
                  <reference attribute="evidence" internalID="PDCPhoneNumberValidationRuleSet1355938902163"/>
                </reference>
                <Code internalID="PDCPhoneNumberValidationRuleSet1355938902164" table="EvidenceDescriptorStatus">
                  <Annotations internalID="PDCPhoneNumberValidationRuleSet1355938902168">
                    <Label internalID="PDCPhoneNumberValidationRuleSet1355938902169" label-id="PDCPhoneNumberValidationRuleSetlabelID_1355938780724" name="Codetable"/>
                  </Annotations>
                  <String internalID="PDCPhoneNumberValidationRuleSet1355938902165" value="EDS1">
                    <Annotations internalID="PDCPhoneNumberValidationRuleSet1355938902166">
                      <Label internalID="PDCPhoneNumberValidationRuleSet1355938902167" label-id="PDCPhoneNumberValidationRuleSetlabelID_1355938780720" name="String Value"/>
                    </Annotations>
                  </String>
                </Code>
              </equals>
            </condition>
            <value internalID="id1355938370752">
              <not internalID="PDCPhoneNumberValidationRuleSet1355938653178">
                <equals internalID="PDCPhoneNumberValidationRuleSet1355938653179">
                  <reference attribute="phoneType" internalID="PDCPhoneNumberValidationRuleSet1355938653180">
                    <reference attribute="activeEvidenceRecord" internalID="PDCPhoneNumberValidationRuleSet1355938653181"/>
                  </reference>
                  <reference attribute="phoneType" internalID="PDCPhoneNumberValidationRuleSet1355938653182">
                    <reference attribute="evidence" internalID="PDCPhoneNumberValidationRuleSet1355938653183"/>
                  </reference>
                </equals>
              </not>
            </value>
          </when>
          <otherwise internalID="id1355938370754">
            <value internalID="id1355938370755">
              <false internalID="id1355938370756"/>
            </value>
          </otherwise>
        </choose>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370757" name="typeBeingModifiedValidation">
      <type internalID="id1355938370758">
        <ruleclass internalID="id1355938370759" name="Validation" ruleset="EvidenceValidationRuleSet"/>
      </type>
      <derivation internalID="id1355938370760">
        <create internalID="id1355938370761" ruleclass="Validation" ruleset="EvidenceValidationRuleSet">
          <reference attribute="isTypeBeingModified" internalID="id1355938370762"/>
          <ResourceMessage internalID="id1355938370763" key="ERR_PHONENUMBER_TYPEMODIFIED" resourceBundle="curam.pdc.rules.PDCPhoneNumberValidationRuleSet"/>
        </create>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370764" name="activeEvidenceRecord">
      <type internalID="id1355938370765">
        <ruleclass internalID="id1355938370766" name="PhoneNumberActiveEvidenceRow" ruleset="ParticipantEvidenceRuleSet"/>
      </type>
      <derivation internalID="id1355938370767">
        <singleitem internalID="id1355938370768" onEmpty="returnNull" onMultiple="error">
          <readall internalID="id1355938370769" ruleclass="PhoneNumberActiveEvidenceRow" ruleset="ParticipantEvidenceRuleSet">
            <match internalID="id1355938370770" retrievedattribute="correctionSetID">
              <reference attribute="correctionSetID" internalID="id1355938370771">
                <reference attribute="evidence" internalID="id1355938370772"/>
              </reference>
            </match>
          </readall>
        </singleitem>
      </derivation>
    </Attribute>
    <Attribute internalID="id1355938370773" name="description">
      <type internalID="id1355938370774">
        <javaclass internalID="id1355938370775" name="curam.creole.value.Message"/>
      </type>
      <derivation internalID="id1355938370776">
        <ResourceMessage internalID="id1355938370777" key="PDCPhoneNumberValidationResult.description" resourceBundle="curam.pdc.rules.PDCPhoneNumberValidationRuleSet">
          <reference attribute="concernRoleName" internalID="id1355938370778">
            <reference attribute="concernRoleRecord" internalID="id1355938370779"/>
          </reference>
        </ResourceMessage>
      </derivation>
    </Attribute>
    <Attribute name="preferredPhoneNumberValidation">
      <type>
        <ruleclass name="Validation" ruleset="EvidenceValidationRuleSet"/>
      </type>
      <derivation>
        <create ruleclass="Validation" ruleset="EvidenceValidationRuleSet">
          <choose>
            <type>
              <javaclass name="Boolean"/>
            </type>
            <when>
              <condition>
                <not>
                  <equals>
                    <reference attribute="caseTypeCode">
                      <reference attribute="caseHeaderRecord"/>
                    </reference>
                    <Code table="CaseTypeCode">
                      <String value="CT2001"/>
                    </Code>
                  </equals>
                </not>
              </condition>
              <value>
                <reference attribute="preferredPhoneNumberExists"/>
              </value>
            </when>
            <otherwise>
              <value>
                <false/>
              </value>
            </otherwise>
          </choose>
          <ResourceMessage key="ERR_PHONENUMBER_MULTIPLE_PREFERRED_PHONENUMBER_FOR_PARTICIPANT" resourceBundle="curam.pdc.rules.PDCPhoneNumberValidationRuleSet">
            <reference attribute="concernRoleName" internalID="id1355938370723">
              <reference attribute="concernRoleRecord" internalID="id1355938370724"/>
            </reference>
          </ResourceMessage>
        </create>
      </derivation>
    </Attribute>
    <Attribute name="preferredPhoneNumberExists">
      <type>
        <javaclass name="Boolean"/>
      </type>
      <derivation>
        <any>
          <dynamiclist>
            <list>
              <reference attribute="phoneNumberEvidenceForClient"/>
            </list>
            <listitemexpression>
              <all>
                <fixedlist>
                  <listof>
                    <javaclass name="Boolean"/>
                  </listof>
                  <members>
                    <equals>
                      <reference attribute="preferredInd">
                        <current/>
                      </reference>
                      <true/>
                    </equals>
                    <equals>
                      <reference attribute="preferredInd">
                        <reference attribute="evidence"/>
                      </reference>
                      <true/>
                    </equals>
                  </members>
                </fixedlist>
              </all>
            </listitemexpression>
          </dynamiclist>
        </any>
      </derivation>
    </Attribute>
    <Attribute name="caseHeaderRecord">
      <type>
        <ruleclass name="CaseHeader" ruleset="CaseEntitiesRuleSet"/>
      </type>
      <derivation>
        <singleitem onEmpty="error" onMultiple="error">
          <readall ruleclass="CaseHeader" ruleset="CaseEntitiesRuleSet">
            <match retrievedattribute="caseID">
              <reference attribute="caseID"/>
            </match>
          </readall>
        </singleitem>
      </derivation>
    </Attribute>
    <Attribute name="phoneNumberEvidence">
      <type>
        <javaclass name="List">
          <ruleclass name="PhoneNumberEvidence" ruleset="ParticipantEvidenceRuleSet"/>
        </javaclass>
      </type>
      <derivation>
        <readall ruleclass="PhoneNumberEvidence" ruleset="ParticipantEvidenceRuleSet">
          <match retrievedattribute="caseID">
            <reference attribute="caseID"/>
          </match>
        </readall>
      </derivation>
    </Attribute>
    <Attribute name="phoneNumberEvidenceForClient">
      <type>
        <javaclass name="List">
          <ruleclass name="PhoneNumberEvidence" ruleset="ParticipantEvidenceRuleSet"/>
        </javaclass>
      </type>
      <derivation>
        <filter>
          <list>
            <reference attribute="phoneNumberEvidence"/>
          </list>
          <listitemexpression>
            <all>
              <fixedlist>
                <listof>
                  <javaclass name="Boolean"/>
                </listof>
                <members>
                  <equals>
                    <reference attribute="participantRoleID">
                      <reference attribute="related_participant">
                        <reference attribute="evidence"/>
                      </reference>
                    </reference>
                    <reference attribute="participantRoleID">
                      <reference attribute="related_participant">
                        <current/>
                      </reference>
                    </reference>
                  </equals>
                  <not>
                    <equals>
                      <reference attribute="evidenceSuccessionID"/>
                      <reference attribute="successionID">
                        <current/>
                      </reference>
                    </equals>
                  </not>
                </members>
              </fixedlist>
            </all>
          </listitemexpression>
        </filter>
      </derivation>
    </Attribute>
  </Class>
</RuleSet>