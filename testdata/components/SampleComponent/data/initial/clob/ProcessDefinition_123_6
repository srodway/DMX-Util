<?xml version="1.0" encoding="UTF-8"?>
<workflow-process id="1126999418470768" process-version="2" language-version="1.0" released="true" category="WKSRV" createdBy="admin" creationDate="20140509T115508"><name>ProcessIntakeApplication</name><process-display-name><localized-text><locale language="en">Process Intake Application</locale></localized-text></process-display-name><description><localized-text><locale language="en">This workflow processes Intake Applications received online.</locale></localized-text></description><enactment-mappings><mapping><source-attribute struct-name="curam.workspaceservices.workflow.struct.ProcessIntakeApplicationEnactmentDetails" name="intakeApplicationID"/><target-attribute wdo-name="IntakeApplicationDetails" name="intakeApplicationID"/></mapping><mapping><source-attribute struct-name="curam.workspaceservices.workflow.struct.ProcessIntakeApplicationEnactmentDetails" name="curamProgramTypesAppliedForInd"/><target-attribute wdo-name="IntakeApplicationDetails" name="curamProgramTypesAppliedFor"/></mapping><mapping><source-attribute struct-name="curam.workspaceservices.workflow.struct.ProcessIntakeApplicationEnactmentDetails" name="legacyProgramTypesAppliedForInd"/><target-attribute wdo-name="IntakeApplicationDetails" name="legacyProgramTypesAppliedFor"/></mapping><mapping><source-attribute struct-name="curam.workspaceservices.workflow.struct.ProcessIntakeApplicationEnactmentDetails" name="useResilienceInd"/><target-attribute wdo-name="IntakeApplicationDetails" name="isResilient"/></mapping></enactment-mappings><wdos><wdo is-list-wdo="false" initialize-attributes="false"><wdo-name>IntakeApplicationDetails</wdo-name><display-name><localized-text><locale language="en">IntakeApplicationDetails</locale></localized-text></display-name><description><localized-text><locale language="en">IntakeApplication Details</locale></localized-text></description><attributes><attribute><attribute-name>intakeApplicationID</attribute-name><display-name><localized-text><locale language="en">intakeApplicationID</locale></localized-text></display-name><type>INT64</type><required-at-enactment>true</required-at-enactment><process-output>false</process-output></attribute><attribute><attribute-name>curamProgramTypesAppliedFor</attribute-name><display-name><localized-text><locale language="en">curamProgramTypesAppliedFor</locale></localized-text></display-name><type>BOOLEAN</type><required-at-enactment>true</required-at-enactment><process-output>false</process-output></attribute><attribute><attribute-name>legacyProgramTypesAppliedFor</attribute-name><display-name><localized-text><locale language="en">legacyProgramTypesAppliedFor</locale></localized-text></display-name><type>BOOLEAN</type><required-at-enactment>true</required-at-enactment><process-output>false</process-output></attribute><attribute><attribute-name>isResilient</attribute-name><display-name><localized-text><locale language="en">isResilient</locale></localized-text></display-name><type>BOOLEAN</type><required-at-enactment>true</required-at-enactment><process-output>false</process-output></attribute></attributes></wdo><wdo is-list-wdo="false" initialize-attributes="false"><wdo-name>IntakeCaseDetails</wdo-name><display-name><localized-text><locale language="en">Intake Case Details</locale></localized-text></display-name><attributes><attribute><attribute-name>submissionDateTime</attribute-name><display-name><localized-text><locale language="en">Submission Date and Time</locale></localized-text></display-name><type>DATETIME</type><required-at-enactment>false</required-at-enactment><process-output>false</process-output></attribute><attribute><attribute-name>primaryParticipantName</attribute-name><display-name><localized-text><locale language="en">Primary Participant Name</locale></localized-text></display-name><type>STRING</type><required-at-enactment>false</required-at-enactment><process-output>false</process-output></attribute><attribute><attribute-name>caseID</attribute-name><display-name><localized-text><locale language="en">Case Identifier</locale></localized-text></display-name><type>INT64</type><required-at-enactment>false</required-at-enactment><process-output>false</process-output></attribute><attribute><attribute-name>caseReference</attribute-name><display-name><localized-text><locale language="en">Case Reference</locale></localized-text></display-name><type>STRING</type><required-at-enactment>false</required-at-enactment><process-output>false</process-output></attribute><attribute><attribute-name>isMappingValidInd</attribute-name><display-name><localized-text><locale language="en">Mapping Validity Indicator</locale></localized-text></display-name><type>BOOLEAN</type><required-at-enactment>false</required-at-enactment><process-output>false</process-output></attribute><attribute><attribute-name>isSingleCaseInd</attribute-name><display-name><localized-text><locale language="en">Mapping only created a single case.</locale></localized-text></display-name><type>BOOLEAN</type><required-at-enactment>false</required-at-enactment><process-output>false</process-output></attribute></attributes></wdo></wdos><activities><start-process-activity id="1"><name><localized-text><locale language="en">Start Process Activity</locale></localized-text></name><description><localized-text><locale language="en">The start process activity</locale></localized-text></description><split type="none"><transition-id idref="1"/></split></start-process-activity><end-process-activity id="2"><name><localized-text><locale language="en">End Process Activity</locale></localized-text></name><description><localized-text><locale language="en">The end process activity</locale></localized-text></description><join type="none"/></end-process-activity><automatic-activity id="3" category="AC1"><name><localized-text><locale language="en">Create Intake PDF</locale></localized-text></name><description><localized-text><locale language="en">Create a PDF representing the intake data and associate it with the IntakeApplication record</locale></localized-text></description><join type="none"/><split type="none"><transition-id idref="2"/></split><bpo-mapping interface-name="curam.workspaceservices.workflow.intf.WSWorkflowHelper" method-name="createIntakeDataPDF"><formal-parameters><formal-parameter index="0"><struct type="curam.workspaceservices.workflow.struct.ProcessApplicationKey"><field name="intakeApplicationID"><base-type type="INT64"><wdo-attribute wdo-name="IntakeApplicationDetails" name="intakeApplicationID"/></base-type></field><field name="processInstanceID"><base-type type="INT64"><wdo-attribute wdo-name="Context_RuntimeInformation" name="processInstanceID"/></base-type></field></struct></formal-parameter></formal-parameters></bpo-mapping></automatic-activity><automatic-activity id="5" category="AC1"><name><localized-text><locale language="en">InvokeLegacySystemProcessig</locale></localized-text></name><description><localized-text><locale language="en">Invokes legacy system(s) to pass them the intake application data for processing.</locale></localized-text></description><join type="none"/><split type="none"><transition-id idref="5"/></split><bpo-mapping interface-name="curam.workspaceservices.workflow.intf.WSWorkflowHelper" method-name="sendApplicationToExternalSystem"><formal-parameters><formal-parameter index="0"><struct type="curam.workspaceservices.workflow.struct.ProcessApplicationKey"><field name="intakeApplicationID"><base-type type="INT64"><wdo-attribute wdo-name="IntakeApplicationDetails" name="intakeApplicationID"/></base-type></field><field name="processInstanceID"><base-type type="INT64"><wdo-attribute wdo-name="Context_RuntimeInformation" name="processInstanceID"/></base-type></field></struct></formal-parameter></formal-parameters></bpo-mapping></automatic-activity><automatic-activity id="8" category="AC1"><name><localized-text><locale language="en">CreateParticipantsAndCases</locale></localized-text></name><description><localized-text><locale language="en">Creates participants and cases for the online application.</locale></localized-text></description><join type="none"/><split type="none"><transition-id idref="8"/></split><bpo-mapping interface-name="curam.workspaceservices.workflow.intf.WSWorkflowHelper" method-name="createParticipantsAndCases"><formal-parameters><formal-parameter index="0"><struct type="curam.workspaceservices.workflow.struct.ProcessApplicationKey"><field name="intakeApplicationID"><base-type type="INT64"><wdo-attribute wdo-name="IntakeApplicationDetails" name="intakeApplicationID"/></base-type></field><field name="processInstanceID"><base-type type="INT64"><wdo-attribute wdo-name="Context_RuntimeInformation" name="processInstanceID"/></base-type></field></struct></formal-parameter></formal-parameters><return><struct><field name="submissionDateTime"><base-type><wdo-attribute wdo-name="IntakeCaseDetails" name="submissionDateTime"/></base-type></field><field name="primaryParticipantName"><base-type><wdo-attribute wdo-name="IntakeCaseDetails" name="primaryParticipantName"/></base-type></field><field name="caseID"><base-type><wdo-attribute wdo-name="IntakeCaseDetails" name="caseID"/></base-type></field><field name="caseRef"><base-type><wdo-attribute wdo-name="IntakeCaseDetails" name="caseReference"/></base-type></field><field name="isSingleCaseInd"><base-type><wdo-attribute wdo-name="IntakeCaseDetails" name="isSingleCaseInd"/></base-type></field></struct></return></bpo-mapping></automatic-activity><automatic-activity id="9" category="AC1"><name><localized-text><locale language="en">Mapping</locale></localized-text></name><description><localized-text><locale language="en">Performs mapping of the application data store to evidence. Evidence validations are enabled.</locale></localized-text></description><join type="none"/><split type="none"><transition-id idref="9"/></split><bpo-mapping interface-name="curam.workspaceservices.workflow.intf.WSWorkflowHelper" method-name="mapping"><formal-parameters><formal-parameter index="0"><struct type="curam.workspaceservices.workflow.struct.ProcessApplicationKey"><field name="intakeApplicationID"><base-type type="INT64"><wdo-attribute wdo-name="IntakeApplicationDetails" name="intakeApplicationID"/></base-type></field><field name="processInstanceID"><base-type type="INT64"><wdo-attribute wdo-name="Context_RuntimeInformation" name="processInstanceID"/></base-type></field></struct></formal-parameter><formal-parameter index="1"><struct type="curam.workspaceservices.workflow.struct.ParticipantAndCaseDetails"><field name="caseID"><base-type type="INT64"><wdo-attribute wdo-name="IntakeCaseDetails" name="caseID"/></base-type></field><field name="caseRef"><base-type type="STRING"><wdo-attribute wdo-name="IntakeCaseDetails" name="caseReference"/></base-type></field><field name="primaryParticipantName"><base-type type="STRING"><wdo-attribute wdo-name="IntakeCaseDetails" name="primaryParticipantName"/></base-type></field><field name="submissionDateTime"><base-type type="DATETIME"><wdo-attribute wdo-name="IntakeCaseDetails" name="submissionDateTime"/></base-type></field><field name="isSingleCaseInd"><base-type type="BOOLEAN"><wdo-attribute wdo-name="IntakeCaseDetails" name="isSingleCaseInd"/></base-type></field></struct></formal-parameter></formal-parameters><return><struct><field name="mappingValidInd"><base-type><wdo-attribute wdo-name="IntakeCaseDetails" name="isMappingValidInd"/></base-type></field></struct></return></bpo-mapping></automatic-activity><automatic-activity id="13" category="AC1"><name><localized-text><locale language="en">PostMapping</locale></localized-text></name><join type="xor"/><split type="none"><transition-id idref="20"/></split><bpo-mapping interface-name="curam.workspaceservices.workflow.intf.WSWorkflowHelper" method-name="postMapping"><formal-parameters><formal-parameter index="0"><struct type="curam.workspaceservices.workflow.struct.ProcessApplicationKey"><field name="intakeApplicationID"><base-type type="INT64"><wdo-attribute wdo-name="IntakeApplicationDetails" name="intakeApplicationID"/></base-type></field><field name="processInstanceID"><base-type type="INT64"><wdo-attribute wdo-name="Context_RuntimeInformation" name="processInstanceID"/></base-type></field></struct></formal-parameter><formal-parameter index="1"><struct type="curam.workspaceservices.workflow.struct.MappingWithValidationsDetails"><field name="mappingValidInd"><base-type type="BOOLEAN"><wdo-attribute wdo-name="IntakeCaseDetails" name="isMappingValidInd"/></base-type></field></struct></formal-parameter><formal-parameter index="2"><struct type="curam.workspaceservices.workflow.struct.ParticipantAndCaseDetails"><field name="caseID"><base-type type="INT64"><wdo-attribute wdo-name="IntakeCaseDetails" name="caseID"/></base-type></field><field name="caseRef"><base-type type="STRING"><wdo-attribute wdo-name="IntakeCaseDetails" name="caseReference"/></base-type></field><field name="primaryParticipantName"><base-type type="STRING"><wdo-attribute wdo-name="IntakeCaseDetails" name="primaryParticipantName"/></base-type></field><field name="submissionDateTime"><base-type type="DATETIME"><wdo-attribute wdo-name="IntakeCaseDetails" name="submissionDateTime"/></base-type></field><field name="isSingleCaseInd"><base-type type="BOOLEAN"><wdo-attribute wdo-name="IntakeCaseDetails" name="isMappingValidInd"/></base-type></field></struct></formal-parameter></formal-parameters></bpo-mapping></automatic-activity><automatic-activity id="15" category="AC1"><name><localized-text><locale language="en">CreateParticipantsCasesAndMapEvidence</locale></localized-text></name><description><localized-text><locale language="en">Create persons, cases and map evidence to those cases. This is a non-resilient activity that works along the lines of the V1 process to map an Intake to Curam entities.</locale></localized-text></description><join type="none"/><split type="none"><transition-id idref="19"/></split><bpo-mapping interface-name="curam.workspaceservices.workflow.intf.WSWorkflowHelper" method-name="createPersonsCasesAndMapEvidence"><formal-parameters><formal-parameter index="0"><struct type="curam.workspaceservices.workflow.struct.ProcessApplicationKey"><field name="intakeApplicationID"><base-type type="INT64"><wdo-attribute wdo-name="IntakeApplicationDetails" name="intakeApplicationID"/></base-type></field><field name="processInstanceID"><base-type type="INT64"><wdo-attribute wdo-name="Context_RuntimeInformation" name="processInstanceID"/></base-type></field></struct></formal-parameter></formal-parameters></bpo-mapping></automatic-activity><manual-activity id="12" category="AC1"><name><localized-text><locale language="en">EvidenceCorrections</locale></localized-text></name><description><localized-text><locale language="en">Allow a worker to correct issues with invalid evidence. This can occur due to insufficient validations on the IEG script and/or evidence mapping issues.</locale></localized-text></description><join type="none"/><split type="none"><transition-id idref="13"/></split><task><message><message-text><localized-text><locale language="en">Evidence corrections required on case %1s for %2s submitted %3z.</locale></localized-text></message-text><message-parameters><wdo-attribute wdo-name="IntakeCaseDetails" name="caseReference"/><wdo-attribute wdo-name="IntakeCaseDetails" name="primaryParticipantName"/><wdo-attribute wdo-name="IntakeCaseDetails" name="submissionDateTime"/></message-parameters></message><actions><action page-id="Intake_resolveResolution" principal-action="true" open-modal="false"><message><message-text><localized-text><locale language="en">Resolve issues with case</locale></localized-text></message-text></message><link-parameter name="caseID"><wdo-attribute wdo-name="IntakeCaseDetails" name="caseID"/></link-parameter><link-parameter name="taskID"><wdo-attribute wdo-name="Context_Task" name="taskID"/></link-parameter></action></actions><allow-deadline-override>false</allow-deadline-override><allow-task-forwarding>true</allow-task-forwarding></task><allocation-strategy type="function" identifier="curam.workspaceservices.workflow.intf.WSWorkflowHelper.allocateResolutionTask"><function-mappings><formal-parameters><formal-parameter index="0"><struct type="curam.workspaceservices.workflow.struct.IntakeResolveAllocDetails"><field name="caseID"><base-type type="INT64"><wdo-attribute wdo-name="IntakeCaseDetails" name="caseID"/></base-type></field><field name="taskID"><base-type type="INT64"><wdo-attribute wdo-name="Context_Task" name="taskID"/></base-type></field></struct></formal-parameter></formal-parameters></function-mappings></allocation-strategy><event-wait wait-on-all-events="false"><events><event identifier="1" event-class="TASK" event-type="CLOSED"><event-match-attribute wdo-name="Context_Task" name="taskID"/></event><event identifier="2" event-class="CaseResolution" event-type="RESUBMIT"><event-match-attribute wdo-name="Context_Task" name="taskID"/></event></events></event-wait></manual-activity><route-activity id="6" category="AC1"><name><localized-text><locale language="en">LegacyRoute</locale></localized-text></name><join type="none"/><split type="xor"><transition-id idref="3"/><transition-id idref="4"/></split></route-activity><route-activity id="7" category="AC1"><name><localized-text><locale language="en">WSRoute</locale></localized-text></name><join type="xor"/><split type="xor"><transition-id idref="6"/><transition-id idref="16"/></split></route-activity><route-activity id="11" category="AC1"><name><localized-text><locale language="en">MappingRoute</locale></localized-text></name><join type="none"/><split type="xor"><transition-id idref="10"/><transition-id idref="11"/></split></route-activity><route-activity id="14" category="AC1"><name><localized-text><locale language="en">ConvergeBeforeEnd</locale></localized-text></name><join type="xor"/><split type="none"><transition-id idref="15"/></split></route-activity><route-activity id="16" category="AC1"><name><localized-text><locale language="en">ResilientRoute</locale></localized-text></name><description><localized-text><locale language="en">Routes through either the resilient or non-resilient flows.</locale></localized-text></description><join type="none"/><split type="xor"><transition-id idref="18"/><transition-id idref="17"/></split></route-activity><route-activity id="17" category="AC1"><name><localized-text><locale language="en">ConvergeResilientNonResilient</locale></localized-text></name><description><localized-text><locale language="en">Convergence of the resilient and non-resilient paths</locale></localized-text></description><join type="xor"/><split type="none"><transition-id idref="21"/></split></route-activity></activities><transitions><transition id="1" from-activity-idref="1" to-activity-idref="3"/><transition id="2" from-activity-idref="3" to-activity-idref="6"/><transition id="3" from-activity-idref="6" to-activity-idref="5"><condition><expression id="1" data-item-lhs="IntakeApplicationDetails.legacyProgramTypesAppliedFor" operation="==" data-item-rhs="true" conjunction="and"/></condition></transition><transition id="4" from-activity-idref="6" to-activity-idref="7"/><transition id="5" from-activity-idref="5" to-activity-idref="7"/><transition id="6" from-activity-idref="7" to-activity-idref="14"><condition><expression id="1" data-item-lhs="IntakeApplicationDetails.curamProgramTypesAppliedFor" operation="==" data-item-rhs="false" conjunction="and"/></condition></transition><transition id="8" from-activity-idref="8" to-activity-idref="9"/><transition id="9" from-activity-idref="9" to-activity-idref="11"/><transition id="10" from-activity-idref="11" to-activity-idref="13"><condition><expression id="1" data-item-lhs="IntakeCaseDetails.isMappingValidInd" operation="==" data-item-rhs="true" conjunction="and"/></condition></transition><transition id="11" from-activity-idref="11" to-activity-idref="12"><condition><expression id="1" data-item-lhs="IntakeCaseDetails.isMappingValidInd" operation="==" data-item-rhs="false" conjunction="and"/></condition></transition><transition id="13" from-activity-idref="12" to-activity-idref="13"/><transition id="15" from-activity-idref="14" to-activity-idref="2"/><transition id="16" from-activity-idref="7" to-activity-idref="16"><condition><expression id="1" data-item-lhs="IntakeApplicationDetails.curamProgramTypesAppliedFor" operation="==" data-item-rhs="true" conjunction="and"/></condition></transition><transition id="17" from-activity-idref="16" to-activity-idref="15"/><transition id="18" from-activity-idref="16" to-activity-idref="8"><condition><expression id="1" data-item-lhs="IntakeApplicationDetails.isResilient" operation="==" data-item-rhs="true" conjunction="and"/></condition></transition><transition id="19" from-activity-idref="15" to-activity-idref="17"/><transition id="20" from-activity-idref="13" to-activity-idref="17"/><transition id="21" from-activity-idref="17" to-activity-idref="14"/></transitions></workflow-process>