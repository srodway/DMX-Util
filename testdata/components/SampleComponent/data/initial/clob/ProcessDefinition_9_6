<?xml version="1.0" encoding="UTF-8"?>
<workflow-process id="1126999418470664" process-version="2" language-version="1.0" released="true" category="PC5" createdBy="admin" creationDate="20090518T095946"><name>APPROVEPLANNEDITEM</name><process-display-name><localized-text><locale language="en">Approve Planned Item</locale></localized-text></process-display-name><description><localized-text><locale language="en">Notifies the owner of a planned item and owner of the service plan that the planned item has been submitted for approval, as well as approved. The owners are only notified if they did not submit the planned item for approval or approve the planned item. If the owner is the same for both the planned item and service plan only one notification is sent. This workflow process is also responsible for the creation of a Product Delivery case if the type of planned item being approved is administratively associated with a Product Delivery.</locale></localized-text></description><enactment-mappings><mapping><source-attribute struct-name="curam.serviceplans.sl.entity.struct.PlannedItemIDKey" name="plannedItemID"/><target-attribute wdo-name="SPProductDeliveryPI" name="plannedItemID"/></mapping></enactment-mappings><wdos><wdo is-list-wdo="false" initialize-attributes="false"><wdo-name>SPProductDeliveryPI</wdo-name><display-name><localized-text><locale language="en">SPProductDeliveryPI</locale></localized-text></display-name><attributes><attribute><attribute-name>plannedItemID</attribute-name><display-name><localized-text><locale language="en">plannedItemID</locale></localized-text></display-name><type>INT64</type><required-at-enactment>true</required-at-enactment><process-output>false</process-output></attribute><attribute><attribute-name>planItemID</attribute-name><display-name><localized-text><locale language="en">planItemID</locale></localized-text></display-name><type>INT64</type><required-at-enactment>false</required-at-enactment><process-output>false</process-output></attribute><attribute><attribute-name>typeCode</attribute-name><display-name><localized-text><locale language="en">typeCode</locale></localized-text></display-name><type>STRING</type><required-at-enactment>false</required-at-enactment><process-output>false</process-output></attribute><attribute><attribute-name>BenefitSampleType</attribute-name><display-name><localized-text><locale language="en">BenefitSampleType</locale></localized-text></display-name><type>STRING</type><required-at-enactment>false</required-at-enactment><process-output>false</process-output><constant-value>AT4</constant-value></attribute><attribute><attribute-name>planItemTaskConfigurationID</attribute-name><display-name><localized-text><locale language="en">planItemTaskConfigurationID</locale></localized-text></display-name><type>INT64</type><required-at-enactment>false</required-at-enactment><process-output>false</process-output></attribute><attribute><attribute-name>subjectText</attribute-name><display-name><localized-text><locale language="en">subjectText</locale></localized-text></display-name><type>STRING</type><required-at-enactment>false</required-at-enactment><process-output>false</process-output></attribute><attribute><attribute-name>actionLink</attribute-name><display-name><localized-text><locale language="en">actionLink</locale></localized-text></display-name><type>STRING</type><required-at-enactment>false</required-at-enactment><process-output>false</process-output></attribute><attribute><attribute-name>actionText</attribute-name><display-name><localized-text><locale language="en">actionText</locale></localized-text></display-name><type>STRING</type><required-at-enactment>false</required-at-enactment><process-output>false</process-output></attribute><attribute><attribute-name>priority</attribute-name><display-name><localized-text><locale language="en">priority</locale></localized-text></display-name><type>STRING</type><required-at-enactment>false</required-at-enactment><process-output>false</process-output></attribute></attributes></wdo></wdos><activities><start-process-activity id="29710"><name><localized-text><locale language="en">StartProcessActivity</locale></localized-text></name><description><localized-text><locale language="en">The start process activity</locale></localized-text></description><split type="none"><transition-id idref="30266"/></split></start-process-activity><end-process-activity id="29711"><name><localized-text><locale language="en">EndProcessActivity</locale></localized-text></name><description><localized-text><locale language="en">The end process activity</locale></localized-text></description><join type="none"/></end-process-activity><automatic-activity id="29712"><name><localized-text><locale language="en">CreatePlanItemProductDeliveryCase</locale></localized-text></name><join type="none"/><split type="none"><transition-id idref="30294"/></split><bpo-mapping interface-name="curam.sample.facade.intf.SampleBenefit" method-name="createAssociatedProductDeliveryForPlannedItem"><formal-parameters><formal-parameter index="0"><struct type="curam.sample.facade.struct.SampleBenefitPlanItemKey"><field name="key"><struct type="curam.serviceplans.sl.struct.PlannedItemIDKey"><field name="plannedItemIDKey"><struct type="curam.serviceplans.sl.entity.struct.PlannedItemIDKey"><field name="plannedItemID"><base-type type="INT64"><wdo-attribute wdo-name="SPProductDeliveryPI" name="plannedItemID"/></base-type></field></struct></field></struct></field></struct></formal-parameter></formal-parameters></bpo-mapping></automatic-activity><automatic-activity id="30193"><name><localized-text><locale language="en">ReadPlannedItem</locale></localized-text></name><join type="none"/><split type="none"><transition-id idref="30286"/></split><bpo-mapping interface-name="curam.serviceplans.sl.intf.PlannedItem" method-name="readDetailsForProductDeliveryCreation"><formal-parameters><formal-parameter index="0"><struct type="curam.serviceplans.sl.struct.PlannedItemIDKey"><field name="plannedItemIDKey"><struct type="curam.serviceplans.sl.entity.struct.PlannedItemIDKey"><field name="plannedItemID"><base-type type="INT64"><wdo-attribute wdo-name="SPProductDeliveryPI" name="plannedItemID"/></base-type></field></struct></field></struct></formal-parameter></formal-parameters><return><struct><field name="planItemID"><base-type><wdo-attribute wdo-name="SPProductDeliveryPI" name="planItemID"/></base-type></field></struct></return></bpo-mapping></automatic-activity><automatic-activity id="30194"><name><localized-text><locale language="en">ReadPlanItem</locale></localized-text></name><join type="none"/><split type="and"><transition-id idref="30288"/><transition-id idref="30287"/></split><bpo-mapping interface-name="curam.serviceplans.sl.intf.PlanItem" method-name="read"><formal-parameters><formal-parameter index="0"><struct type="curam.serviceplans.sl.struct.PlanItemKey"><field name="key"><struct type="curam.serviceplans.sl.entity.struct.PlanItemKey"><field name="planItemID"><base-type type="INT64"><wdo-attribute wdo-name="SPProductDeliveryPI" name="planItemID"/></base-type></field></struct></field></struct></formal-parameter></formal-parameters><return><struct><field name="dtls"><struct><field name="typeCode"><base-type><wdo-attribute wdo-name="SPProductDeliveryPI" name="typeCode"/></base-type></field></struct></field><field name="taskConfigDtls"><struct><field name="taskConfigurationID"><base-type><wdo-attribute wdo-name="SPProductDeliveryPI" name="planItemTaskConfigurationID"/></base-type></field><field name="subject"><base-type><wdo-attribute wdo-name="SPProductDeliveryPI" name="subjectText"/></base-type></field><field name="actionText"><base-type><wdo-attribute wdo-name="SPProductDeliveryPI" name="actionText"/></base-type></field><field name="priority"><base-type><wdo-attribute wdo-name="SPProductDeliveryPI" name="priority"/></base-type></field></struct></field></struct></return></bpo-mapping></automatic-activity><manual-activity id="30198"><name><localized-text><locale language="en">RaiseTaskForPlannedItem</locale></localized-text></name><join type="none"/><split type="none"><transition-id idref="30292"/></split><task><message><message-text><localized-text><locale language="en">%1s</locale></localized-text></message-text><message-parameters><wdo-attribute wdo-name="SPProductDeliveryPI" name="subjectText"/></message-parameters></message><actions><action page-id="ServicePlanAdmin_resolveActionLink" principal-action="false" open-modal="false"><message><message-text><localized-text><locale language="en">%1s</locale></localized-text></message-text><message-parameters><wdo-attribute wdo-name="SPProductDeliveryPI" name="actionText"/></message-parameters></message><link-parameter name="plannedItemID"><wdo-attribute wdo-name="SPProductDeliveryPI" name="plannedItemID"/></link-parameter></action></actions><task-priority><mapped-priority><wdo-attribute wdo-name="SPProductDeliveryPI" name="priority"/></mapped-priority></task-priority><allow-deadline-override>false</allow-deadline-override><allow-task-forwarding>true</allow-task-forwarding></task><allocation-strategy type="function" identifier="curam.core.sl.intf.WorkflowAllocationFunction.allocateTaskForPlannedItemTaskType"><function-mappings><formal-parameters><formal-parameter index="0"><struct type="curam.serviceplans.facade.struct.PlannedItemIDKey"><field name="plannedItemIDKey"><struct type="curam.serviceplans.sl.struct.PlannedItemIDKey"><field name="plannedItemIDKey"><struct type="curam.serviceplans.sl.entity.struct.PlannedItemIDKey"><field name="plannedItemID"><base-type type="INT64"><wdo-attribute wdo-name="SPProductDeliveryPI" name="plannedItemID"/></base-type></field></struct></field></struct></field></struct></formal-parameter></formal-parameters></function-mappings></allocation-strategy><event-wait wait-on-all-events="false"><events><event identifier="1" event-class="TASK" event-type="CLOSED"><event-match-attribute wdo-name="Context_Task" name="taskID"/></event></events></event-wait></manual-activity><route-activity id="30195"><name><localized-text><locale language="en">Route1</locale></localized-text></name><join type="none"/><split type="xor"><transition-id idref="30290"/><transition-id idref="30289"/></split></route-activity><route-activity id="30196"><name><localized-text><locale language="en">Route2</locale></localized-text></name><join type="xor"/><split type="none"><transition-id idref="30291"/></split></route-activity><route-activity id="30197"><name><localized-text><locale language="en">RouteEnd</locale></localized-text></name><join type="and"/><split type="none"><transition-id idref="30293"/></split></route-activity></activities><transitions><transition id="30266" from-activity-idref="29710" to-activity-idref="30193"/><transition id="30286" from-activity-idref="30193" to-activity-idref="30194"/><transition id="30287" from-activity-idref="30194" to-activity-idref="30195"/><transition id="30288" from-activity-idref="30194" to-activity-idref="30198"><condition><expression id="1" data-item-lhs="SPProductDeliveryPI.planItemTaskConfigurationID" operation="!=" data-item-rhs="0" conjunction="and"/></condition></transition><transition id="30289" from-activity-idref="30195" to-activity-idref="30196"/><transition id="30290" from-activity-idref="30195" to-activity-idref="29712"><condition><expression id="1" data-item-lhs="SPProductDeliveryPI.typeCode" operation="==" data-item-rhs="SPProductDeliveryPI.BenefitSampleType" conjunction="and"/></condition></transition><transition id="30291" from-activity-idref="30196" to-activity-idref="30197"/><transition id="30292" from-activity-idref="30198" to-activity-idref="30197"/><transition id="30293" from-activity-idref="30197" to-activity-idref="29711"/><transition id="30294" from-activity-idref="29712" to-activity-idref="30196"/></transitions></workflow-process>