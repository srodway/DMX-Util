<?xml version="1.0" encoding="UTF-8"?>
<workflow-process id="1126999418470717" process-version="1" language-version="1.0" released="true" category="WKSRV" createdBy="admin" creationDate="20080624T132850"><name>DISPOSITIONDEADLINENOTIFICATION</name><process-display-name><localized-text><locale language="en">Disposition Deadline Notification</locale></localized-text></process-display-name><description><localized-text><locale language="en">This workflow process manages warning tasks that are raised when an IntakeProgramApplication is approaching its disposition deadline.</locale></localized-text></description><enactment-mappings><mapping><source-attribute struct-name="curam.workspaceservices.intake.struct.IntakeProgramApplicationDtls" name="intakeProgramApplicationID"/><target-attribute wdo-name="IntakeProgramApplicationDetails" name="intakeProgramApplicationID"/></mapping></enactment-mappings><wdos><wdo is-list-wdo="false" initialize-attributes="true"><wdo-name>IntakeProgramApplicationDetails</wdo-name><display-name><localized-text><locale language="en">Intake Program Application Details</locale></localized-text></display-name><description><localized-text><locale language="en">Stores the program application data required for the workflow</locale></localized-text></description><attributes><attribute><attribute-name>intakeProgramApplicationID</attribute-name><display-name><localized-text><locale language="en">intakeProgramApplicationID</locale></localized-text></display-name><type>INT64</type><required-at-enactment>true</required-at-enactment><process-output>false</process-output></attribute><attribute><attribute-name>deadlineAsSeconds</attribute-name><display-name><localized-text><locale language="en">deadlineAsSeconds</locale></localized-text></display-name><type>INT32</type><required-at-enactment>false</required-at-enactment><process-output>false</process-output></attribute><attribute><attribute-name>intakeProgramApplicationStatus</attribute-name><display-name><localized-text><locale language="en">intakeProgramApplicationStatus</locale></localized-text></display-name><type>STRING</type><required-at-enactment>false</required-at-enactment><process-output>false</process-output><initial-value>PENDING</initial-value></attribute><attribute><attribute-name>warningEventRaisedInd</attribute-name><display-name><localized-text><locale language="en">warningEventRaisedInd</locale></localized-text></display-name><type>BOOLEAN</type><required-at-enactment>false</required-at-enactment><process-output>false</process-output><initial-value>false</initial-value></attribute></attributes></wdo></wdos><activities><start-process-activity id="1"><name><localized-text><locale language="en">Start Process Activity</locale></localized-text></name><description><localized-text><locale language="en">The start process activity</locale></localized-text></description><split type="none"><transition-id idref="1"/></split></start-process-activity><end-process-activity id="2"><name><localized-text><locale language="en">End Process Activity</locale></localized-text></name><description><localized-text><locale language="en">The end process activity</locale></localized-text></description><join type="none"/></end-process-activity><automatic-activity id="3" category="AC1"><name><localized-text><locale language="en">ReadWarningDate</locale></localized-text></name><description><localized-text><locale language="en">Read the IntakeProgramApplication warningDate in order to set a deadline handler.</locale></localized-text></description><join type="none"/><split type="none"><transition-id idref="2"/></split><bpo-mapping interface-name="curam.workspaceservices.workflow.intf.WSWorkflowHelper" method-name="getWarningDateTimeAsSeconds"><formal-parameters><formal-parameter index="0"><struct type="curam.workspaceservices.intake.struct.IntakeProgramApplicationKey"><field name="intakeProgramApplicationID"><base-type type="INT64"><wdo-attribute wdo-name="IntakeProgramApplicationDetails" name="intakeProgramApplicationID"/></base-type></field></struct></formal-parameter></formal-parameters></bpo-mapping></automatic-activity><automatic-activity id="5" category="AC1"><name><localized-text><locale language="en">ReadIntakeProgramApplicationStatus</locale></localized-text></name><description><localized-text><locale language="en">Read the status of the program application in order to check if it has been disposed or not.</locale></localized-text></description><join type="none"/><split type="none"><transition-id idref="4"/></split><bpo-mapping interface-name="curam.workspaceservices.workflow.intf.WSWorkflowHelper" method-name="getIntakeProgAppStatus"><formal-parameters><formal-parameter index="0"><struct type="curam.workspaceservices.intake.struct.IntakeProgramApplicationKey"><field name="intakeProgramApplicationID"><base-type type="INT64"><wdo-attribute wdo-name="IntakeProgramApplicationDetails" name="intakeProgramApplicationID"/></base-type></field></struct></formal-parameter></formal-parameters></bpo-mapping></automatic-activity><loop-begin-activity id="6" category="AC1"><name><localized-text><locale language="en">Loop [Begin]</locale></localized-text></name><join type="none"/><split type="none"><transition-id idref="5"/></split><loop-type name="do-while"/><condition><expression id="1" data-item-lhs="IntakeProgramApplicationDetails.intakeProgramApplicationStatus" operation="==" data-item-rhs="&quot;PENDING&quot;" conjunction="and"/><expression id="2" data-item-lhs="IntakeProgramApplicationDetails.warningEventRaisedInd" operation="==" data-item-rhs="false" conjunction="and"/></condition><block-endpoint-ref activity-id="7"/></loop-begin-activity><loop-end-activity id="7" category="AC1"><name><localized-text><locale language="en">Loop [End]</locale></localized-text></name><join type="none"/><split type="none"><transition-id idref="6"/></split><block-endpoint-ref activity-id="6"/></loop-end-activity><event-wait-activity id="4" category="AC1"><name><localized-text><locale language="en">WaitForEvents</locale></localized-text></name><description><localized-text><locale language="en">This activity waits for a disposition event to occur, or for the deadline date to change.</locale></localized-text></description><join type="none"/><split type="none"><transition-id idref="3"/></split><event-wait wait-on-all-events="false"><events><event identifier="1" event-class="IntakeProgramApplication" event-type="PROGRAM_APPROVED"><event-match-attribute wdo-name="IntakeProgramApplicationDetails" name="intakeProgramApplicationID"/></event><event identifier="2" event-class="IntakeProgramApplication" event-type="PROGRAM_DENIED"><event-match-attribute wdo-name="IntakeProgramApplicationDetails" name="intakeProgramApplicationID"/></event><event identifier="3" event-class="IntakeProgramApplication" event-type="PROGRAM_WITHDRAWN"><event-match-attribute wdo-name="IntakeProgramApplicationDetails" name="intakeProgramApplicationID"/></event><event identifier="4" event-class="IntakeProgramApplication" event-type="DEADLINE_DATE_CHANGED"><event-match-attribute wdo-name="IntakeProgramApplicationDetails" name="intakeProgramApplicationID"/></event></events><deadline complete-activity="true"><duration><mapped-duration><wdo-attribute wdo-name="IntakeProgramApplicationDetails" name="deadlineAsSeconds"/></mapped-duration></duration><deadline-handler interface-name="curam.workspaceservices.workflow.intf.WSWorkflowHelper" method-name="raiseDeadlineWarningEvent"><formal-parameters><formal-parameter index="0"><struct type="curam.workspaceservices.intake.struct.IntakeProgramApplicationKey"><field name="intakeProgramApplicationID"><base-type type="INT64"><wdo-attribute wdo-name="IntakeProgramApplicationDetails" name="intakeProgramApplicationID"/></base-type></field></struct></formal-parameter></formal-parameters></deadline-handler><deadline-output-mappings><duration-expired wdo-name="IntakeProgramApplicationDetails" name="warningEventRaisedInd"/></deadline-output-mappings></deadline></event-wait></event-wait-activity></activities><transitions><transition id="1" from-activity-idref="1" to-activity-idref="6"/><transition id="2" from-activity-idref="3" to-activity-idref="4"/><transition id="3" from-activity-idref="4" to-activity-idref="5"/><transition id="4" from-activity-idref="5" to-activity-idref="7"/><transition id="5" from-activity-idref="6" to-activity-idref="3"/><transition id="6" from-activity-idref="7" to-activity-idref="2"/></transitions></workflow-process>